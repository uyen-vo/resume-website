<div class="container" *ngIf="!thumbnail">
    <div *ngFor="let prevImage of previews; index as i; let last = last" class="preview" [ngClass]="{'last-child': title=='Sekai Chan Art' && last}">
        <img [src]="prevImage" (click)="openGallery(prevImage, i)"/>
    </div>
</div>

<div class="creative-container" *ngIf="thumbnail">
    <div class="creative-img" (click)="openGallery(previews[0])">
        <img [src]="creaItem.image" draggable="false" />
        <div class="subtitle">
            <p>{{ creaItem.title }}</p>
        </div>
    </div>
</div>

<div fxHide.xs fxHide.sm *ngIf="snackbarToggle && galleryToggle" @animateFade id="snackbar">
    <p>Double click image to enter/exit fullscreen mode.</p>
</div>

<div *ngIf="mobileSnackbarToggle && galleryToggle" @animateFade id="mobile-snackbar">
    <p>Swipe to scroll. <br/> Tap to exit.</p>
</div>

<div *ngIf="galleryToggle" id="gallery" (click)="closeGallery()"
    fxLayout="column" fxLayoutAlign="center center" fxLayoutGap.gt-md="20px" fxLayoutGap.sm-xs="0px">
    <div fxFlex.gt-md="80" fxFlex.xs="100" fxFlex.sm="100" class="img-container-outer gallery-child" >
        <div class="img-container"
            (swipeleft)="swipe($event.type)" (swiperight)="swipe($event.type)"
            fxLayout="row" fxLayoutAlign="space-between center">
            <div fxHide.xs
                *ngIf="!isEnlarged" [ngClass]="{'hide-arr':curIndex===0}"
                class="arr left"><img (click)="swapCurImage('left', $event)" src="../../assets/arrow.svg"></div>
            <div class="main-container" fxLayoutAlign="center center">
                <img *ngIf="!isVideo" id="main-img" [src]="curImageSrc"
                    (click)="onMainImageClick($event)" (dblclick)="enlarge()"/>
                    <video (click)="onMainImageClick($event)" height="100%" *ngIf="isVideo" controls>
                        <source [src]="curImageSrc" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
            </div>
            <div fxHide.xs
                *ngIf="!isEnlarged" [ngClass]="{'hide-arr':curIndex===previews.length-1}"
                class="arr right"><img (click)="swapCurImage('right', $event)" src="../../assets/arrow.svg"></div>
        </div>
        <!-- <map name="prevmap">
            <area shape="rect" coords="0,0,0,0" (click)="navigate('left')">
            <area shape="rect" coords="0,0,0,0" (click)="navigate('right')">
        </map> -->
    </div>
    <div fxFlex.gt-md="5" class="subtitle">
        <p class="count">({{curIndex+1}}/{{galleryPreview.length}})</p>
        <p class="desc" fxHide>TODO: insert subtitles</p>
    </div>
    <div fxFlex="10" class="gallery-child prev-list" fxHide.xs fxHide.sm >
        <div class="prev-container"
            fxLayout="row" fxLayoutAlign="center center">
            <!-- <div *ngFor="let prevImage of previews" class="gallery-preview">
                <img [src]="prevImage"/>
            </div> -->

            <img [ngClass]="{'glow':i===curIndex}" *ngFor="let prevImage of previews; index as i" (click)="onImageClick($event, i)" class="gallery-preview" [src]="prevImage">
        </div>
    </div>
</div>